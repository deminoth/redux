<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-130598673-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>

<title data-react-helmet="true">Using Immutable.JS with Redux | Redux</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Using Immutable.JS with Redux | Redux"><meta data-react-helmet="true" name="description" content="# Using Immutable.JS with Redux"><meta data-react-helmet="true" property="og:description" content="# Using Immutable.JS with Redux"><meta data-react-helmet="true" property="og:url" content="https://ko.redux.js.org/recipes/using-immutablejs-with-redux">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico">


<link rel="stylesheet" href="/styles.f13c794a.css">


<link rel="preload" href="/styles.b9b04675.js" as="script">

<link rel="preload" href="/runtime~main.a5953dbc.js" as="script">

<link rel="preload" href="/main.b1800339.js" as="script">

<link rel="preload" href="/1.fb194c3f.js" as="script">

<link rel="preload" href="/2.0cf2c282.js" as="script">

<link rel="preload" href="/82.ad3a06c2.js" as="script">

<link rel="preload" href="/ec1ed54d.7aec48a5.js" as="script">

<link rel="preload" href="/17896441.9acfdc16.js" as="script">

<link rel="preload" href="/2880fc9b.3b66eed8.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/redux.svg" alt="Redux Logo"><strong class="navbar__title">Redux</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/introduction/getting-started">시작하기</a><a class="navbar__item navbar__link" href="/api/api-reference">API</a><a class="navbar__item navbar__link" href="/faq">FAQ</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/deminoth/redux" class="navbar__item navbar__link">GitHub</a><a class="navbar__item navbar__link" href="/introduction/getting-started#help-and-discussion">Need help?</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/redux.svg" alt="Redux Logo"><strong class="navbar__title">Redux</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="right" href="/introduction/getting-started">시작하기</a></li><li class="menu__list-item"><a class="menu__link" position="right" href="/api/api-reference">API</a></li><li class="menu__list-item"><a class="menu__link" position="right" href="/faq">FAQ</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/deminoth/redux" class="menu__link" position="right">GitHub</a></li><li class="menu__list-item"><a class="menu__link" position="right" href="/introduction/getting-started#help-and-discussion">Need help?</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/getting-started">Redux 시작하기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/installation">설치</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/motivation">동기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/core-concepts">Core Concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/three-principles">3가지 원칙</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/prior-art">기존 기술</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/learning-resources">Learning Resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/ecosystem">생태계</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/examples">예제</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Basic Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/basics/basic-tutorial">기초 강좌: 소개</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/basics/actions">액션</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/basics/reducers">리듀서</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/basics/store">스토어</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/basics/data-flow">데이터 흐름</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/basics/usage-with-react">React와 함께 사용하기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/basics/example">예제: Todo List</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Advanced Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/advanced/advanced-tutorial">심화 강좌: Intro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/advanced/async-actions">비동기 액션</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/advanced/async-flow">비동기 흐름</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/advanced/middleware">미들웨어</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/advanced/usage-with-react-router">React Router와 함께 사용하기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/advanced/example-reddit-api">예제: Reddit API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/advanced/next-steps">Next Steps</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Recipes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/recipe-index">레시피: 목차</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/configuring-your-store">Configuring Your Store</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/usage-with-typescript">Usage With TypeScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/migrating-to-redux">Redux로 마이그레이션</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/using-object-spread-operator">객체 확산 연산자 사용하기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/reducing-boilerplate">보일러플레이트 줄이기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/server-rendering">Server Rendering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/writing-tests">Writing Tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/computing-derived-data">Computing Derived Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/implementing-undo-history">Implementing Undo History</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/isolating-redux-sub-apps">Isolating Redux Sub-Apps</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" tabindex="0" href="/recipes/using-immutablejs-with-redux">Using Immutable.JS with Redux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/recipes/code-splitting">Code Splitting</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Structuring Reducers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/structuring-reducers">리듀서 구조 잡기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/prerequisite-concepts">사전에 요구되는 개념들</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/basic-reducer-structure">기본 리듀서 구조</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/splitting-reducer-logic">리듀서 로직 분리하기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/refactoring-reducer-example">리듀서 리팩토링하기 예제</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/using-combinereducers">combineReducers 사용하기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/beyond-combinereducers">combineReducers 더 알아보기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/normalizing-state-shape">상태 정규화하기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/updating-normalized-data">정규화된 데이터 업데이트하기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/reusing-reducer-logic">리듀서 로직 재사용하기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/immutable-update-patterns">불변 업데이트 패턴</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/initializing-state">상태 초기화하기</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">FAQ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq">FAQ Index</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq/general">General</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq/reducers">Reducers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq/organizing-state">Organizing State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq/store-setup">Store Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq/actions">Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq/immutable-data">Immutable Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq/code-structure">Code Structure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq/performance">Performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq/design-decisions">Design Decisions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq/react-redux">React Redux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/faq/miscellaneous">Miscellaneous</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Style Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/style-guide/style-guide">Style Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Other</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/glossary">용어사전</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/troubleshooting">문제해결</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/api-reference">API 레퍼런스</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/createstore">createStore</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/store">Store</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/combinereducers">combineReducers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/applymiddleware">applyMiddleware</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/bindactioncreators">bindActionCreators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/compose">compose</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Redux Toolkit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/redux-toolkit/overview">Redux Toolkit: Overview</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="using-immutablejs-with-redux"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-immutablejs-with-redux" title="Direct link to heading">#</a>Using Immutable.JS with Redux</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="table-of-contents"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#table-of-contents" title="Direct link to heading">#</a>Table of Contents</h2><ul><li><a href="#why-should-i-use-an-immutable-focused-library-such-as-immutablejs">Why should I use an immutable-focused library such as Immutable.JS?</a></li><li><a href="#why-should-i-choose-immutablejs-as-an-immutable-library">Why should I choose Immutable.JS as an immutable library?</a></li><li><a href="#what-are-the-issues-with-using-immutablejs">What are the issues with using Immutable.JS?</a></li><li><a href="#is-using-immutablejs-worth-the-effort">Is Immutable.JS worth the effort?</a></li><li><a href="#what-are-some-opinionated-best-practices-for-using-immutablejs-with-redux">What are some opinionated Best Practices for using Immutable.JS with Redux?</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="why-should-i-use-an-immutable-focused-library-such-as-immutablejs"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#why-should-i-use-an-immutable-focused-library-such-as-immutablejs" title="Direct link to heading">#</a>Why should I use an immutable-focused library such as Immutable.JS?</h2><p>Immutable-focused libraries such as Immutable.JS have been designed to overcome the issues with immutability inherent within JavaScript, providing all the benefits of immutability with the performance your app requires.</p><p>Whether you choose to use such a library, or stick with plain JavaScript, depends on how comfortable you are with adding another dependency to your app, or how sure you are that you can avoid the pitfalls inherent within JavaScript’s approach to immutability.</p><p>Whichever option you choose, make sure you’re familiar with the concepts of <a href="/recipes/structuring-reducers/prerequisite-concepts#note-on-immutability-side-effects-and-mutation">immutability, side effects and mutation</a>. In particular, ensure you have a deep understanding of what JavaScript does when updating and copying values in order to guard against accidental mutations that will degrade your app’s performance, or break it altogether.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information" title="Direct link to heading">#</a>Further Information</h4><p><strong>Documentation</strong></p><ul><li><a href="/recipes/structuring-reducers/prerequisite-concepts#note-on-immutability-side-effects-and-mutation">Recipes: immutability, side effects and mutation</a></li></ul><p><strong>Articles</strong></p><ul><li><a href="https://auth0.com/blog/intro-to-immutable-js/">Introduction to Immutable.js and Functional Programming Concepts</a></li><li><a href="http://reactkungfu.com/2015/08/pros-and-cons-of-using-immutability-with-react-js/">Pros and Cons of using immutability with React.js</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="why-should-i-choose-immutablejs-as-an-immutable-library"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#why-should-i-choose-immutablejs-as-an-immutable-library" title="Direct link to heading">#</a>Why should I choose Immutable.JS as an immutable library?</h2><p>Immutable.JS was designed to provide immutability in a performant manner in an effort to overcome the limitations of immutability with JavaScript. Its principle advantages include:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="guaranteed-immutability"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#guaranteed-immutability" title="Direct link to heading">#</a>Guaranteed immutability</h4><p>Data encapsulated in an Immutable.JS object is never mutated. A new copy is always returned. This contrasts with JavaScript, in which some operations do not mutate your data (e.g. some Array methods, including map, filter, concat, forEach, etc.), but some do (Array’s pop, push, splice, etc.).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="rich-api"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#rich-api" title="Direct link to heading">#</a>Rich API</h4><p>Immutable.JS provides a rich set of immutable objects to encapsulate your data (e.g. Maps, Lists, Sets, Records, etc.), and an extensive set of methods to manipulate it, including methods to sort, filter, and group the data, reverse it, flatten it, and create subsets.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="performance"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#performance" title="Direct link to heading">#</a>Performance</h4><p>Immutable.JS does a lot of work behind the scenes to optimize performance. This is the key to its power, as using immutable data structures can involve a lot of expensive copying. In particular, immutably manipulating large, complex data sets, such as a nested Redux state tree, can generate many intermediate copies of objects, which consume memory and slow down performance as the browser’s garbage collector fights to clean things up.</p><p>Immutable.JS avoids this by <a href="https://medium.com/@dtinth/immutable-js-persistent-data-structures-and-structural-sharing-6d163fbd73d2#.z1g1ofrsi">cleverly sharing data structures</a> under the surface, minimizing the need to copy data. It also enables complex chains of operations to be carried out without creating unnecessary (and costly) cloned intermediate data that will quickly be thrown away.</p><p>You never see this, of course - the data you give to an Immutable.JS object is never mutated. Rather, it’s the <em>intermediate</em> data generated within Immutable.JS from a chained sequence of method calls that is free to be mutated. You therefore get all the benefits of immutable data structures with none (or very little) of the potential performance hits.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-1" title="Direct link to heading">#</a>Further Information</h4><p><strong>Articles</strong></p><ul><li><a href="https://medium.com/@dtinth/immutable-js-persistent-data-structures-and-structural-sharing-6d163fbd73d2#.6nwctunlc">Immutable.js, persistent data structures and structural sharing</a></li><li><a href="https://www.jfokus.se/jfokus16/preso/JavaScript-Immutability--Dont-Go-Changing.pdf">PDF: JavaScript Immutability - Don’t go changing</a></li></ul><p><strong>Libraries</strong></p><ul><li><a href="https://facebook.github.io/immutable-js/">Immutable.js</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="what-are-the-issues-with-using-immutablejs"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-are-the-issues-with-using-immutablejs" title="Direct link to heading">#</a>What are the issues with using Immutable.JS?</h2><p>Although powerful, Immutable.JS needs to be used carefully, as it comes with issues of its own. Note, however, that all of these issues can be overcome quite easily with careful coding.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="difficult-to-interoperate-with"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#difficult-to-interoperate-with" title="Direct link to heading">#</a>Difficult to interoperate with</h4><p>JavaScript does not provide immutable data structures. As such, for Immutable.JS to provide its immutable guarantees, your data must be encapsulated within an Immutable.JS object (such as a <code>Map</code> or a <code>List</code>, etc.). Once it’s contained in this way, it’s hard for that data to then interoperate with other, plain JavaScript objects.</p><p>For example, you will no longer be able to reference an object’s properties through standard JavaScript dot or bracket notation. Instead, you must reference them via Immutable.JS’s <code>get()</code> or <code>getIn()</code> methods, which use an awkward syntax that accesses properties via an array of strings, each of which represents a property key.</p><p>For example, instead of <code>myObj.prop1.prop2.prop3</code>, you would use <code>myImmutableMap.getIn([‘prop1’, ‘prop2’, ‘prop3’])</code>.</p><p>This makes it awkward to interoperate not just with your own code, but also with other libraries, such as lodash or ramda, that expect plain JavaScript objects.</p><p>Note that Immutable.JS objects do have a <code>toJS()</code> method, which returns the data as a plain JavaScript data structure, but this method is extremely slow, and using it extensively will negate the performance benefits that Immutable.JS provides</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="once-used-immutablejs-will-spread-throughout-your-codebase"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#once-used-immutablejs-will-spread-throughout-your-codebase" title="Direct link to heading">#</a>Once used, Immutable.JS will spread throughout your codebase</h3><p>Once you encapsulate your data with Immutable.JS, you have to use Immutable.JS’s <code>get()</code> or <code>getIn()</code> property accessors to access it.</p><p>This has the effect of spreading Immutable.JS across your entire codebase, including potentially your components, where you may prefer not to have such external dependencies. Your entire codebase must know what is, and what is not, an Immutable.JS object. It also makes removing Immutable.JS from your app difficult in the future, should you ever need to.</p><p>This issue can be avoided by <a href="https://medium.com/@dtinth/immutable-js-persistent-data-structures-and-structural-sharing-6d163fbd73d2#.z1g1ofrsi">uncoupling your application logic from your data structures</a>, as outlined in the <a href="#what-are-some-opinionated-best-practices-for-using-immutablejs-with-redux">best practices section</a> below.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="no-destructuring-or-spread-operators"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#no-destructuring-or-spread-operators" title="Direct link to heading">#</a>No Destructuring or Spread Operators</h3><p>Because you must access your data via Immutable.JS’s own <code>get()</code> and <code>getIn()</code> methods, you can no longer use JavaScript’s destructuring operator (or the proposed Object spread operator), making your code more verbose.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="not-suitable-for-small-values-that-change-often"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#not-suitable-for-small-values-that-change-often" title="Direct link to heading">#</a>Not suitable for small values that change often</h3><p>Immutable.JS works best for collections of data, and the larger the better. It can be slow when your data comprises lots of small, simple JavaScript objects, with each comprising a few keys of primitive values.</p><p>Note, however, that this does not apply to the Redux state tree, which is (usually) represented as a large collection of data.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="difficult-to-debug"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#difficult-to-debug" title="Direct link to heading">#</a>Difficult to Debug</h3><p>Immutable.JS objects, such as <code>Map</code>, <code>List</code>, etc., can be difficult to debug, as inspecting such an object will reveal an entire nested hierarchy of Immutable.JS-specific properties that you don’t care about, while your actual data that you do care about is encapsulated several layers deep.</p><p>To resolve this issue, use a browser extension such as the <a href="https://chrome.google.com/webstore/detail/immutablejs-object-format/hgldghadipiblonfkkicmgcbbijnpeog">Immutable.js Object Formatter</a>, which surfaces your data in Chrome Dev Tools, and hides Immutable.JS’s properties when inspecting your data.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="breaks-object-references-causing-poor-performance"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#breaks-object-references-causing-poor-performance" title="Direct link to heading">#</a>Breaks object references, causing poor performance</h3><p>One of the key advantages of immutability is that it enables shallow equality checking, which dramatically improves performance.</p><p>If two different variables reference the same immutable object, then a simple equality check of the two variables is enough to determine that they are equal, and that the object they both reference is unchanged. The equality check never has to check the values of any of the object’s properties, as it is, of course, immutable.</p><p>However, shallow checking will not work if your data encapsulated within an Immutable.JS object is itself an object. This is because Immutable.JS’s <code>toJS()</code> method, which returns the data contained within an Immutable.JS object as a JavaScript value, will create a new object every time it’s called, and so break the reference with the encapsulated data.</p><p>Accordingly, calling <code>toJS()</code> twice, for example, and assigning the result to two different variables will cause an equality check on those two variables to fail, even though the object values themselves haven’t changed.</p><p>This is a particular issue if you use <code>toJS()</code> in a wrapped component’s <code>mapStateToProps</code> function, as React-Redux shallowly compares each value in the returned props object. For example, the value referenced by the <code>todos</code> prop returned from <code>mapStateToProps</code> below will always be a different object, and so will fail a shallow equality check.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">// AVOID .toJS() in mapStateToProps</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">function</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    todos</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">get</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token string" style="color:#a6e22e">&#x27;todos&#x27;</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">toJS</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token comment" style="color:#778090">// Always a new object</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span></div></div></div></div></div><p>When the shallow check fails, React-Redux will cause the component to re-render. Using <code>toJS()</code> in <code>mapStateToProps</code> in this way, therefore, will always cause the component to re-render, even if the value never changes, impacting heavily on performance.</p><p>This can be prevented by using <code>toJS()</code> in a Higher Order Component, as discussed in the <a href="#what-are-some-opinionated-best-practices-for-using-immutablejs-with-redux">Best Practices section</a> below.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-2" title="Direct link to heading">#</a>Further Information</h4><p><strong>Articles</strong></p><ul><li><a href="https://medium.com/@dtinth/immutable-js-persistent-data-structures-and-structural-sharing-6d163fbd73d2#.hzgz7ghbe">Immutable.js, persistent data structures and structural sharing</a></li><li><a href="http://jlongster.com/Using-Immutable-Data-Structures-in-JavaScript">Immutable Data Structures and JavaScript</a></li><li><a href="https://medium.com/@esamatti/react-js-pure-render-performance-anti-pattern-fb88c101332f#.9ucv6hwk4">React.js pure render performance anti-pattern</a></li><li><a href="https://www.toptal.com/react/react-redux-and-immutablejs">Building Efficient UI with React and Redux</a></li></ul><p><strong>Chrome Extension</strong></p><ul><li><a href="https://chrome.google.com/webstore/detail/immutablejs-object-format/hgldghadipiblonfkkicmgcbbijnpeog">Immutable Object Formatter</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="is-using-immutablejs-worth-the-effort"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#is-using-immutablejs-worth-the-effort" title="Direct link to heading">#</a>Is Using Immutable.JS worth the effort?</h2><p>Frequently, yes. There are various tradeoffs and opinions to consider, but there are many good reasons to use Immutable.JS. Do not underestimate the difficulty of trying to track down a property of your state tree that has been inadvertently mutated.</p><p>Components will both re-render when they shouldn’t, and refuse to render when they should, and tracking down the bug causing the rendering issue is hard, as the component rendering incorrectly is not necessarily the one whose properties are being accidentally mutated.</p><p>This problem is caused predominantly by returning a mutated state object from a Redux reducer. With Immutable.JS, this problem simply does not exist, thereby removing a whole class of bugs from your app.</p><p>This, together with its performance and rich API for data manipulation, is why Immutable.JS is worth the effort.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-3"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-3" title="Direct link to heading">#</a>Further Information</h4><p><strong>Documentation</strong></p><ul><li><a href="/troubleshooting#nothing-happens-when-i-dispatch-an-action">Troubleshooting: Nothing happens when I dispatch an action</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="what-are-some-opinionated-best-practices-for-using-immutablejs-with-redux"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-are-some-opinionated-best-practices-for-using-immutablejs-with-redux" title="Direct link to heading">#</a>What are some opinionated Best Practices for using Immutable.JS with Redux?</h2><p>Immutable.JS can provide significant reliability and performance improvements to your app, but it must be used correctly. If you choose to use Immutable.JS (and remember, you are not required to, and there are other immutable libraries you can use), follow these opinionated best practices, and you’ll be able to get the most out of it, without tripping up on any of the issues it can potentially cause.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="never-mix-plain-javascript-objects-with-immutablejs"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#never-mix-plain-javascript-objects-with-immutablejs" title="Direct link to heading">#</a>Never mix plain JavaScript objects with Immutable.JS</h3><p>Never let a plain JavaScript object contain Immutable.JS properties. Equally, never let an Immutable.JS object contain a plain JavaScript object.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-4"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-4" title="Direct link to heading">#</a>Further Information</h4><p><strong>Articles</strong></p><ul><li><a href="http://jlongster.com/Using-Immutable-Data-Structures-in-JavaScript">Immutable Data Structures and JavaScript</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="make-your-entire-redux-state-tree-an-immutablejs-object"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#make-your-entire-redux-state-tree-an-immutablejs-object" title="Direct link to heading">#</a>Make your entire Redux state tree an Immutable.JS object</h3><p>For a Redux app, your entire state tree should be an Immutable.JS object, with no plain JavaScript objects used at all.</p><ul><li><p>Create the tree using Immutable.JS’s <code>fromJS()</code> function.</p></li><li><p>Use an Immutable.JS-aware version of the <code>combineReducers</code> function, such as the one in <a href="https://www.npmjs.com/package/redux-immutable">redux-immutable</a>, as Redux itself expects the state tree to be a plain JavaScript object.</p></li><li><p>When adding JavaScript objects to an Immutable.JS Map or List using Immutable.JS’s <code>update</code>, <code>merge</code> or <code>set</code> methods, ensure that the object being added is first converted to an Immutable object using <code>fromJS()</code>.</p></li></ul><p><strong>Example</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#778090">// avoid</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> newObj </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> key</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> value </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> newState </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">setIn</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token string" style="color:#a6e22e">&#x27;prop1&#x27;</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> newObj</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// newObj has been added as a plain JavaScript object, NOT as an Immutable.JS Map</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// recommended</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> newObj </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> key</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> value </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> newState </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> state</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">setIn</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token string" style="color:#a6e22e">&#x27;prop1&#x27;</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">fromJS</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">newObj</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// newObj is now an Immutable.JS Map</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-5"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-5" title="Direct link to heading">#</a>Further Information</h4><p><strong>Articles</strong></p><ul><li><a href="http://jlongster.com/Using-Immutable-Data-Structures-in-JavaScript">Immutable Data Structures and JavaScript</a></li></ul><p><strong>Libraries</strong></p><ul><li><a href="https://www.npmjs.com/package/redux-immutable">redux-immutable</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="use-immutablejs-everywhere-except-your-dumb-components"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#use-immutablejs-everywhere-except-your-dumb-components" title="Direct link to heading">#</a>Use Immutable.JS everywhere except your dumb components</h3><p>Using Immutable.JS everywhere keeps your code performant. Use it in your smart components, your selectors, your sagas or thunks, action creators, and especially your reducers.</p><p>Do not, however, use Immutable.JS in your dumb components.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-6"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-6" title="Direct link to heading">#</a>Further Information</h4><p><strong>Articles</strong></p><ul><li><a href="http://jlongster.com/Using-Immutable-Data-Structures-in-JavaScript">Immutable Data Structures and JavaScript</a></li><li><a href="http://jaketrent.com/post/smart-dumb-components-react/">Smart and Dumb Components in React</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="limit-your-use-of-tojs"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#limit-your-use-of-tojs" title="Direct link to heading">#</a>Limit your use of <code>toJS()</code></h3><p><code>toJS()</code> is an expensive function and negates the purpose of using Immutable.JS. Avoid its use.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-7"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-7" title="Direct link to heading">#</a>Further Information</h4><p><strong> Discussions</strong></p><ul><li><a href="https://twitter.com/leeb/status/746733697093668864">Lee Byron on Twitter: “Perf tip for #immutablejs…”</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="your-selectors-should-return-immutablejs-objects"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#your-selectors-should-return-immutablejs-objects" title="Direct link to heading">#</a>Your selectors should return Immutable.JS objects</h3><p>Always. This practice has several advantages:</p><ul><li>It avoids unnecessary rerenders caused by calling <code>.toJS()</code> in selectors (since <code>.toJS()</code> will always return a new object).<ul><li>It is possible to memoize selectors where you call <code>.toJS()</code>, but it’s redundant when just returning Immutable.js objects without memoizing will suffice.</li></ul></li><li>It establishes a consistent interface for selectors; you won’t have to keep track of whether an Immutable.js object or plain JavaScript object will be returned.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="use-immutablejs-objects-in-your-smart-components"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#use-immutablejs-objects-in-your-smart-components" title="Direct link to heading">#</a>Use Immutable.JS objects in your Smart Components</h3><p>Smart components that access the store via React Redux’s <code>connect</code> function must use the Immutable.JS values returned by your selectors. Make sure you avoid the potential issues this can cause with unnecessary component re-rendering. Memoize your selectors using a library such as reselect if necessary.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-8"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-8" title="Direct link to heading">#</a>Further Information</h4><p><strong>Documentation</strong></p><ul><li><a href="/recipes/computing-derived-data">Recipes: Computing Derived Data</a></li><li><a href="/faq/ImmutableData.html#immutability-issues-with-react-redux">FAQ: Immutable Data</a></li><li><a href="https://github.com/reduxjs/reselect/#q-how-do-i-use-reselect-with-immutablejs">Reselect Documentation: How do I use Reselect with Immutable.js?</a></li></ul><p><strong>Articles</strong></p><ul><li><a href="https://tech.affirm.com/redux-patterns-and-anti-patterns-7d80ef3d53bc#.451p9ycfy">Redux Patterns and Anti-Patterns</a></li></ul><p><strong>Libraries</strong></p><ul><li><a href="https://github.com/reduxjs/reselect">Reselect: Selector library for Redux</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="never-use-tojs-in-mapstatetoprops"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#never-use-tojs-in-mapstatetoprops" title="Direct link to heading">#</a>Never use <code>toJS()</code> in <code>mapStateToProps</code></h3><p>Converting an Immutable.JS object to a JavaScript object using <code>toJS()</code> will return a new object every time. If you do this in <code>mapStateToProps</code>, you will cause the component to believe that the object has changed every time the state tree changes, and so trigger an unnecessary re-render.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-9"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-9" title="Direct link to heading">#</a>Further Information</h4><p><strong>Documentation</strong></p><ul><li><a href="/faq/immutable-data#how-can-immutability-in-mapstatetoprops-cause-components-to-render-unnecessarily">FAQ: Immutable Data</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="never-use-immutablejs-in-your-dumb-components"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#never-use-immutablejs-in-your-dumb-components" title="Direct link to heading">#</a>Never use Immutable.JS in your Dumb Components</h3><p>Your dumb components should be pure; that is, they should produce the same output given the same input, and have no external dependencies. If you pass such a component an Immutable.JS object as a prop, you make it dependent upon Immutable.JS to extract the prop’s value and otherwise manipulate it.</p><p>Such a dependency renders the component impure, makes testing the component more difficult, and makes reusing and refactoring the component unnecessarily difficult.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-10"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-10" title="Direct link to heading">#</a>Further Information</h4><p><strong>Articles</strong></p><ul><li><a href="http://jlongster.com/Using-Immutable-Data-Structures-in-JavaScript">Immutable Data Structures and JavaScript</a></li><li><a href="http://jaketrent.com/post/smart-dumb-components-react/">Smart and Dumb Components in React</a></li><li><a href="https://hashnode.com/post/tips-for-a-better-redux-architecture-lessons-for-enterprise-scale-civrlqhuy0keqc6539boivk2f">Tips For a Better Redux Architecture: Lessons for Enterprise Scale</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="use-a-higher-order-component-to-convert-your-smart-components-immutablejs-props-to-your-dumb-components-javascript-props"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#use-a-higher-order-component-to-convert-your-smart-components-immutablejs-props-to-your-dumb-components-javascript-props" title="Direct link to heading">#</a>Use a Higher Order Component to convert your Smart Component’s Immutable.JS props to your Dumb Component’s JavaScript props</h3><p>Something needs to map the Immutable.JS props in your Smart Component to the pure JavaScript props used in your Dumb Component. That something is a Higher Order Component (HOC) that simply takes the Immutable.JS props from your Smart Component, and converts them using <code>toJS()</code> to plain JavaScript props, which are then passed to your Dumb Component.</p><p>An example of such a HOC follows. A similar HOC is available as an NPM package for your convenience: <a href="https://www.npmjs.com/package/with-immutable-props-to-js">with-immutable-props-to-js</a>.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword module" style="color:#F92672">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;react&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword module" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token maybe-class-name">Iterable</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;immutable&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword module" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#E6D874">toJS</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token parameter">WrappedComponent</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token parameter">wrappedComponentProps</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token constant" style="color:#F92672">KEY</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token number" style="color:#AE81FF">0</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token constant" style="color:#F92672">VALUE</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token number" style="color:#AE81FF">1</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> propsJS </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">entries</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">wrappedComponentProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">reduce</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token parameter">newProps</span><span class="token parameter punctuation" style="color:#F8F8F2">,</span><span class="token parameter"> wrappedComponentProp</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      newProps</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">wrappedComponentProp</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token constant" style="color:#F92672">KEY</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token maybe-class-name">Iterable</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">isIterable</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        wrappedComponentProp</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token constant" style="color:#F92672">VALUE</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token operator" style="color:#F8F8F2">?</span><span class="token plain"> wrappedComponentProp</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token constant" style="color:#F92672">VALUE</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">toJS</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> wrappedComponentProp</span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token constant" style="color:#F92672">VALUE</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#F92672">return</span><span class="token plain"> newProps</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">return</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">&lt;</span><span class="token maybe-class-name">WrappedComponent</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token spread operator" style="color:#F8F8F2">...</span><span class="token plain">propsJS</span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">/</span><span class="token operator" style="color:#F8F8F2">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span></div></div></div></div></div><p>And this is how you would use it in your Smart Component:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword module" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> connect </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;react-redux&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword module" style="color:#F92672">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> toJS </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;./to-js&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword module" style="color:#F92672">import</span><span class="token plain"> </span><span class="token maybe-class-name">DumbComponent</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;./dumb.component&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#E6D874">mapStateToProps</span><span class="token plain"> </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token parameter">state</span><span class="token plain"> </span><span class="token arrow operator" style="color:#F8F8F2">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#F92672">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#778090">// obj is an Immutable object in Smart Component, but it’s converted to a plain</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#778090">// JavaScript object by toJS, and so passed to DumbComponent as a pure JavaScript</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#778090">// object. Because it’s still an Immutable.JS object here in mapStateToProps, though,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#778090">// there is no issue with errant re-renderings.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    obj</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">getImmutableObjectFromStateTree</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">state</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword module" style="color:#F92672">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">default</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">connect</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token plain">mapStateToProps</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token function" style="color:#E6D874">toJS</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token maybe-class-name">DumbComponent</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">)</span></div></div></div></div></div><p>By converting Immutable.JS objects to plain JavaScript values within a HOC, we achieve Dumb Component portability, but without the performance hits of using <code>toJS()</code> in the Smart Component.</p><p><em>Note: if your app requires high performance, you may need to avoid <code>toJS()</code> altogether, and so will have to use Immutable.JS in your dumb components. However, for most apps this will not be the case, and the benefits of keeping Immutable.JS out of your dumb components (maintainability, portability and easier testing) will far outweigh any perceived performance improvements of keeping it in.</em></p><p><em>In addition, using <code>toJS</code> in a Higher Order Component should not cause much, if any, performance degradation, as the component will only be called when the connected component’s props change. As with any performance issue, conduct performance checks first before deciding what to optimize.</em></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-11"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-11" title="Direct link to heading">#</a>Further Information</h4><p><strong>Documentation</strong></p><ul><li><a href="https://facebook.github.io/react/docs/higher-order-components.html">React: Higher-Order Components</a></li></ul><p><strong>Articles</strong></p><ul><li><a href="https://medium.com/@franleplant/react-higher-order-components-in-depth-cf9032ee6c3e#.dw2qd1o1g">React Higher Order Components in depth</a></li></ul><p><strong>Discussions</strong></p><ul><li><a href="https://www.reddit.com/r/javascript/comments/4rcqpx/dan_abramov_redux_is_not_an_architecture_or/d5rw0p9/?context=3">Reddit: acemarke and cpsubrian comments on Dan Abramov: Redux is not an architecture or design pattern, it is just a library.</a></li></ul><p><strong>Gists</strong></p><ul><li><a href="https://gist.github.com/cpsubrian/79e97b6116ab68bd189eb4917203242c#file-tojs-js">cpsubrian: React decorators for redux/react-router/immutable ‘smart’ components</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="use-the-immutable-object-formatter-chrome-extension-to-aid-debugging"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#use-the-immutable-object-formatter-chrome-extension-to-aid-debugging" title="Direct link to heading">#</a>Use the Immutable Object Formatter Chrome Extension to Aid Debugging</h3><p>Install the <a href="https://chrome.google.com/webstore/detail/immutablejs-object-format/hgldghadipiblonfkkicmgcbbijnpeog">Immutable Object Formatter</a> , and inspect your Immutable.JS data without seeing the noise of Immutable.JS&#x27;s own object properties.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="further-information-12"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-information-12" title="Direct link to heading">#</a>Further Information</h4><p><strong>Chrome Extension</strong></p><ul><li><a href="https://chrome.google.com/webstore/detail/immutablejs-object-format/hgldghadipiblonfkkicmgcbbijnpeog">Immutable Object Formatter</a></li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/recipes/isolating-redux-sub-apps"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Isolating Redux Sub-Apps</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/recipes/code-splitting"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Code Splitting »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#table-of-contents" class="contents__link">Table of Contents</a></li><li><a href="#why-should-i-use-an-immutable-focused-library-such-as-immutablejs" class="contents__link">Why should I use an immutable-focused library such as Immutable.JS?</a></li><li><a href="#why-should-i-choose-immutablejs-as-an-immutable-library" class="contents__link">Why should I choose Immutable.JS as an immutable library?</a></li><li><a href="#what-are-the-issues-with-using-immutablejs" class="contents__link">What are the issues with using Immutable.JS?</a><ul><li><a href="#once-used-immutablejs-will-spread-throughout-your-codebase" class="contents__link">Once used, Immutable.JS will spread throughout your codebase</a></li><li><a href="#no-destructuring-or-spread-operators" class="contents__link">No Destructuring or Spread Operators</a></li><li><a href="#not-suitable-for-small-values-that-change-often" class="contents__link">Not suitable for small values that change often</a></li><li><a href="#difficult-to-debug" class="contents__link">Difficult to Debug</a></li><li><a href="#breaks-object-references-causing-poor-performance" class="contents__link">Breaks object references, causing poor performance</a></li></ul></li><li><a href="#is-using-immutablejs-worth-the-effort" class="contents__link">Is Using Immutable.JS worth the effort?</a></li><li><a href="#what-are-some-opinionated-best-practices-for-using-immutablejs-with-redux" class="contents__link">What are some opinionated Best Practices for using Immutable.JS with Redux?</a><ul><li><a href="#never-mix-plain-javascript-objects-with-immutablejs" class="contents__link">Never mix plain JavaScript objects with Immutable.JS</a></li><li><a href="#make-your-entire-redux-state-tree-an-immutablejs-object" class="contents__link">Make your entire Redux state tree an Immutable.JS object</a></li><li><a href="#use-immutablejs-everywhere-except-your-dumb-components" class="contents__link">Use Immutable.JS everywhere except your dumb components</a></li><li><a href="#limit-your-use-of-tojs" class="contents__link">Limit your use of <code>toJS()</code></a></li><li><a href="#your-selectors-should-return-immutablejs-objects" class="contents__link">Your selectors should return Immutable.JS objects</a></li><li><a href="#use-immutablejs-objects-in-your-smart-components" class="contents__link">Use Immutable.JS objects in your Smart Components</a></li><li><a href="#never-use-tojs-in-mapstatetoprops" class="contents__link">Never use <code>toJS()</code> in <code>mapStateToProps</code></a></li><li><a href="#never-use-immutablejs-in-your-dumb-components" class="contents__link">Never use Immutable.JS in your Dumb Components</a></li><li><a href="#use-a-higher-order-component-to-convert-your-smart-components-immutablejs-props-to-your-dumb-components-javascript-props" class="contents__link">Use a Higher Order Component to convert your Smart Component’s Immutable.JS props to your Dumb Component’s JavaScript props</a></li><li><a href="#use-the-immutable-object-formatter-chrome-extension-to-aid-debugging" class="contents__link">Use the Immutable Object Formatter Chrome Extension to Aid Debugging</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/introduction/getting-started">시작하기</a></li><li class="footer__item"><a class="footer__link-item" href="/faq">FAQ</a></li><li class="footer__item"><a class="footer__link-item" href="/basics/basic-tutorial">강좌</a></li><li class="footer__item"><a class="footer__link-item" href="/api/api-reference">API 레퍼런스</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="http://stackoverflow.com/questions/tagged/redux">Stack Overflow</a></li><li class="footer__item"><a class="footer__link-item" href="/introduction/getting-started#help-and-discussion">Feedback</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/deminoth/redux">GitHub</a></li><li class="footer__item">
                <a href="https://www.netlify.com">
                  <img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify">
                </a>
              </li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://redux.js.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1Wg7"><img class="footer__logo" alt="Redux Logo" src="/img/redux.svg"></a></div><div>Copyright © 2015–2020 Dan Abramov and the Redux documentation authors.</div></div></div></footer>
</div>

<script src="/styles.b9b04675.js"></script>

<script src="/runtime~main.a5953dbc.js"></script>

<script src="/main.b1800339.js"></script>

<script src="/1.fb194c3f.js"></script>

<script src="/2.0cf2c282.js"></script>

<script src="/82.ad3a06c2.js"></script>

<script src="/ec1ed54d.7aec48a5.js"></script>

<script src="/17896441.9acfdc16.js"></script>

<script src="/2880fc9b.3b66eed8.js"></script>


</body>
</html>