(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{139:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return s})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return a})),t.d(n,"default",(function(){return d}));var o=t(1),r=t(6),i=(t(0),t(184)),s={id:"example",title:"\uc608\uc81c: Todo List",description:"Basic Tutorial > Todo List: Source code for the Todo List example",hide_title:!0},c={id:"basics/example",title:"\uc608\uc81c: Todo List",description:"Basic Tutorial > Todo List: Source code for the Todo List example",source:"@site/../docs_kr/basics/ExampleTodoList.md",permalink:"/basics/example",sidebar:"docs",previous:{title:"React\uc640 \ud568\uaed8 \uc0ac\uc6a9\ud558\uae30",permalink:"/basics/usage-with-react"},next:{title:"\uc2ec\ud654 \uac15\uc88c: Intro",permalink:"/advanced/advanced-tutorial"}},a=[{value:"Entry Point",id:"entry-point",children:[]},{value:"Action Creators and Constants",id:"action-creators-and-constants",children:[]},{value:"Reducers",id:"reducers",children:[]},{value:"Smart Components",id:"smart-components",children:[]},{value:"Dumb Components",id:"dumb-components",children:[]}],p={rightToc:a};function d(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"\uc608\uc81c-todo-list"},"\uc608\uc81c: Todo List"),Object(i.b)("p",null,Object(i.b)("a",Object(o.a)({parentName:"p"},{href:"/basics/basic-tutorial"}),"\uae30\ucd08 \uac15\uc88c"),"\uc5d0\uc11c \ub9cc\ub4e4\uc5c8\ub358 \ud560\uc77c \uc571\uc758 \uc804\uccb4 \uc18c\uc2a4\ucf54\ub4dc\uc785\ub2c8\ub2e4."),Object(i.b)("h2",{id:"entry-point"},"Entry Point"),Object(i.b)("h4",{id:"indexjs"},Object(i.b)("inlineCode",{parentName:"h4"},"index.js")),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),"import React from 'react'\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport App from './containers/App'\nimport todoApp from './reducers'\n\nlet store = createStore(todoApp)\n\nlet rootElement = document.getElementById('root')\nReact.render(\n  // React 0.13\uc758 \uc774\uc288\ub97c \ud68c\ud53c\ud558\uae30 \uc704\ud574\n  // \ubc18\ub4dc\uc2dc \ud568\uc218\ub85c \uac10\uc2f8\uc90d\ub2c8\ub2e4.\n  <Provider store={store}>{() => <App />}</Provider>,\n  rootElement\n)\n")),Object(i.b)("h2",{id:"action-creators-and-constants"},"Action Creators and Constants"),Object(i.b)("h4",{id:"actionsjs"},Object(i.b)("inlineCode",{parentName:"h4"},"actions.js")),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),"/*\n * action types\n */\n\nexport const ADD_TODO = 'ADD_TODO'\nexport const COMPLETE_TODO = 'COMPLETE_TODO'\nexport const SET_VISIBILITY_FILTER = 'SET_VISIBILITY_FILTER'\n\n/*\n * other constants\n */\n\nexport const VisibilityFilters = {\n  SHOW_ALL: 'SHOW_ALL',\n  SHOW_COMPLETED: 'SHOW_COMPLETED',\n  SHOW_ACTIVE: 'SHOW_ACTIVE'\n}\n\n/*\n * action creators\n */\n\nexport function addTodo(text) {\n  return { type: ADD_TODO, text }\n}\n\nexport function completeTodo(index) {\n  return { type: COMPLETE_TODO, index }\n}\n\nexport function setVisibilityFilter(filter) {\n  return { type: SET_VISIBILITY_FILTER, filter }\n}\n")),Object(i.b)("h2",{id:"reducers"},"Reducers"),Object(i.b)("h4",{id:"reducersjs"},Object(i.b)("inlineCode",{parentName:"h4"},"reducers.js")),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),"import { combineReducers } from 'redux'\nimport {\n  ADD_TODO,\n  COMPLETE_TODO,\n  SET_VISIBILITY_FILTER,\n  VisibilityFilters\n} from './actions'\nconst { SHOW_ALL } = VisibilityFilters\n\nfunction visibilityFilter(state = SHOW_ALL, action) {\n  switch (action.type) {\n    case SET_VISIBILITY_FILTER:\n      return action.filter\n    default:\n      return state\n  }\n}\n\nfunction todos(state = [], action) {\n  switch (action.type) {\n    case ADD_TODO:\n      return [\n        ...state,\n        {\n          text: action.text,\n          completed: false\n        }\n      ]\n    case COMPLETE_TODO:\n      return [\n        ...state.slice(0, action.index),\n        Object.assign({}, state[action.index], {\n          completed: true\n        }),\n        ...state.slice(action.index + 1)\n      ]\n    default:\n      return state\n  }\n}\n\nconst todoApp = combineReducers({\n  visibilityFilter,\n  todos\n})\n\nexport default todoApp\n")),Object(i.b)("h2",{id:"smart-components"},"Smart Components"),Object(i.b)("h4",{id:"containersappjs"},Object(i.b)("inlineCode",{parentName:"h4"},"containers/App.js")),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),"import React, { Component, PropTypes } from 'react'\nimport { connect } from 'react-redux'\nimport {\n  addTodo,\n  completeTodo,\n  setVisibilityFilter,\n  VisibilityFilters\n} from '../actions'\nimport AddTodo from '../components/AddTodo'\nimport TodoList from '../components/TodoList'\nimport Footer from '../components/Footer'\n\nclass App extends Component {\n  render() {\n    // connect() \ud638\ucd9c\uc744 \ud1b5\ud574 \uc8fc\uc785\ub428:\n    const { dispatch, visibleTodos, visibilityFilter } = this.props\n    return (\n      <div>\n        <AddTodo onAddClick={text => dispatch(addTodo(text))} />\n        <TodoList\n          todos={visibleTodos}\n          onTodoClick={index => dispatch(completeTodo(index))}\n        />\n        <Footer\n          filter={visibilityFilter}\n          onFilterChange={nextFilter =>\n            dispatch(setVisibilityFilter(nextFilter))\n          }\n        />\n      </div>\n    )\n  }\n}\n\nApp.propTypes = {\n  visibleTodos: PropTypes.arrayOf(\n    PropTypes.shape({\n      text: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired\n    })\n  ),\n  visibilityFilter: PropTypes.oneOf([\n    'SHOW_ALL',\n    'SHOW_COMPLETED',\n    'SHOW_ACTIVE'\n  ]).isRequired\n}\n\nfunction selectTodos(todos, filter) {\n  switch (filter) {\n    case VisibilityFilters.SHOW_ALL:\n      return todos\n    case VisibilityFilters.SHOW_COMPLETED:\n      return todos.filter(todo => todo.completed)\n    case VisibilityFilters.SHOW_ACTIVE:\n      return todos.filter(todo => !todo.completed)\n  }\n}\n\n// \uc8fc\uc5b4\uc9c4 \uc804\uc5ed \uc0c1\ud0dc\uc5d0\uc11c \uc5b4\ub5a4 props\ub97c \uc8fc\uc785\ud558\uae30\ub97c \uc6d0\ud558\ub098\uc694?\n// \ub178\ud2b8: \ub354 \ub098\uc740 \uc131\ub2a5\uc744 \uc704\ud574\uc11c\ub294 https://github.com/faassen/reselect \ub97c \uc0ac\uc6a9\ud558\uc138\uc694\nfunction select(state) {\n  return {\n    visibleTodos: selectTodos(state.todos, state.visibilityFilter),\n    visibilityFilter: state.visibilityFilter\n  }\n}\n\n// \ub514\uc2a4\ud328\uce58\uc640 \uc0c1\ud0dc\ub97c \uc8fc\uc785\ud558\ub824\ub294 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uac10\uc2f8\uc90d\ub2c8\ub2e4.\nexport default connect(select)(App)\n")),Object(i.b)("h2",{id:"dumb-components"},"Dumb Components"),Object(i.b)("h4",{id:"componentsaddtodojs"},Object(i.b)("inlineCode",{parentName:"h4"},"components/AddTodo.js")),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),"import React, { findDOMNode, Component, PropTypes } from 'react'\n\nexport default class AddTodo extends Component {\n  render() {\n    return (\n      <div>\n        <input type=\"text\" ref=\"input\" />\n        <button onClick={e => this.handleClick(e)}>Add</button>\n      </div>\n    )\n  }\n\n  handleClick(e) {\n    const node = findDOMNode(this.refs.input)\n    const text = node.value.trim()\n    this.props.onAddClick(text)\n    node.value = ''\n  }\n}\n\nAddTodo.propTypes = {\n  onAddClick: PropTypes.func.isRequired\n}\n")),Object(i.b)("h4",{id:"componentsfooterjs"},Object(i.b)("inlineCode",{parentName:"h4"},"components/Footer.js")),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),"import React, { Component, PropTypes } from 'react'\n\nexport default class Footer extends Component {\n  renderFilter(filter, name) {\n    if (filter === this.props.filter) {\n      return name\n    }\n\n    return (\n      <a\n        href=\"#\"\n        onClick={e => {\n          e.preventDefault()\n          this.props.onFilterChange(filter)\n        }}\n      >\n        {name}\n      </a>\n    )\n  }\n\n  render() {\n    return (\n      <p>\n        Show: {this.renderFilter('SHOW_ALL', 'All')}\n        {', '}\n        {this.renderFilter('SHOW_COMPLETED', 'Completed')}\n        {', '}\n        {this.renderFilter('SHOW_ACTIVE', 'Active')}.\n      </p>\n    )\n  }\n}\n\nFooter.propTypes = {\n  onFilterChange: PropTypes.func.isRequired,\n  filter: PropTypes.oneOf(['SHOW_ALL', 'SHOW_COMPLETED', 'SHOW_ACTIVE'])\n    .isRequired\n}\n")),Object(i.b)("h4",{id:"componentstodojs"},Object(i.b)("inlineCode",{parentName:"h4"},"components/Todo.js")),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),"import React, { Component, PropTypes } from 'react'\n\nexport default class Todo extends Component {\n  render() {\n    return (\n      <li\n        onClick={this.props.onClick}\n        style={{\n          textDecoration: this.props.completed ? 'line-through' : 'none',\n          cursor: this.props.completed ? 'default' : 'pointer'\n        }}\n      >\n        {this.props.text}\n      </li>\n    )\n  }\n}\n\nTodo.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  text: PropTypes.string.isRequired,\n  completed: PropTypes.bool.isRequired\n}\n")),Object(i.b)("h4",{id:"componentstodolistjs"},Object(i.b)("inlineCode",{parentName:"h4"},"components/TodoList.js")),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-js"}),"import React, { Component, PropTypes } from 'react'\nimport Todo from './Todo'\n\nexport default class TodoList extends Component {\n  render() {\n    return (\n      <ul>\n        {this.props.todos.map((todo, index) => (\n          <Todo\n            {...todo}\n            key={index}\n            onClick={() => this.props.onTodoClick(index)}\n          />\n        ))}\n      </ul>\n    )\n  }\n}\n\nTodoList.propTypes = {\n  onTodoClick: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      text: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired\n    }).isRequired\n  ).isRequired\n}\n")))}d.isMDXComponent=!0},184:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return b}));var o=t(0),r=t.n(o);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=r.a.createContext({}),d=function(e){var n=r.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):c({},n,{},e)),t},l=function(e){var n=d(e.components);return r.a.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},m=Object(o.forwardRef)((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),l=d(t),m=o,b=l["".concat(s,".").concat(m)]||l[m]||u[m]||i;return t?r.a.createElement(b,c({ref:n},p,{components:t})):r.a.createElement(b,c({ref:n},p))}));function b(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,s=new Array(i);s[0]=m;var c={};for(var a in n)hasOwnProperty.call(n,a)&&(c[a]=n[a]);c.originalType=e,c.mdxType="string"==typeof e?e:o,s[1]=c;for(var p=2;p<i;p++)s[p]=t[p];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);